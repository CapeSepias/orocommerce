layout:
    imports:
        -
            id: oro_consent_items
            namespace: checkout
            root: checkout_consent_container

    actions:
        - '@setBlockTheme':
            themes: 'oro_checkout_single_page.html.twig'

        - '@setOption':
           id: checkout_consent_wrapper
           optionName: appliedConsents
           optionValue: '=data["workflowItem"].getData().get("customerConsents") ? data["workflowItem"].getData().get("customerConsents").toArray() : []'

        - '@add':
           id: checkout_consent_container
           blockType: container
           parentId: checkout_order_summary_totals_container
           siblingId: checkout_order_summary_totals_sticky_container
           prepend: true
           options:
              visible: '=data["feature"].isFeatureEnabled("consents")'

        - '@add':
           id: checkout_consent_message
           blockType: consent_acceptance_choice
           parentId: checkout_consent_container
           options:
               appliedConsents: '=data["workflowItem"].getData().get("customerConsents") ? data["workflowItem"].getData().get("customerConsents").toArray() : []'

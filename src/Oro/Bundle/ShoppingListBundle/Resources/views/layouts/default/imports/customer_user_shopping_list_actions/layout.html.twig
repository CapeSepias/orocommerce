{% block __customer_user_shopping_list_actions__shopping_list_actions_widget %}
    {% import 'OroUIBundle::macros.html.twig' as UI %}

    {% if block.children %}
        {% set togglerId = 'dropdown-'|uniqid %}
        <div class="btn-group">
            <button class="btn btn--default btn--size-s btn--no-x-offset dropdown-toggle dropdown-toggle--no-caret"
                    type="button"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    aria-label="{{'oro.frontend.shoppinglist.btn.actions.aria_label'|trans({'%name%': shoppingList.label}) }}"
                    data-placement="bottom-end"
                    data-inherit-parent-width="loosely"
            >
                <span class="fa fa-ellipsis-h fa--gray" aria-hidden="true"></span>
                <span class="fa fa-caret-down fa--gray fa--no-offset" aria-hidden="true"></span>
            </button>
            <div class="dropdown-menu" role="menu" aria-labelledby="{{ togglerId }}">
                {{ block_widget(block) }}
            </div>
        </div>
    {% endif %}
{% endblock %}

{% block __customer_user_shopping_list_actions__shopping_list_assign_action_widget %}
    <button class="action mode-icon-text dropdown-item"
       title="{{ 'oro.frontend.shoppinglist.btn.assign.label'|trans }}"
       aria-label="{{ 'oro.frontend.shoppinglist.btn.assign.aria_label'|trans({'%name%': shoppingList.label}) }}"
       data-page-component-view="oroshoppinglist/js/app/views/shopping-list-assign-link-view"
       data-page-component-options="{{ {
           dialogUrl: path('oro_shopping_list_frontend_assign', {id : shoppingList.id}),
           dialogTitle: 'oro.frontend.shoppinglist.view.choose_assign_user.label'|trans({'%label%': shoppingList.label}),
           shoppingListOwnerChangeUrl: path('oro_api_set_shopping_list_owner', {id : shoppingList.id})
       }|json_encode }}">
        {%- apply spaceless -%}
            <span class="icon fa-user" aria-hidden="true"></span>
            {{ 'oro.frontend.shoppinglist.btn.assign.label'|trans }}
        {%- endapply -%}
    </button>
{% endblock %}

{% block __customer_user_shopping_list_actions__shopping_list_rename_action_widget %}
    <button class="action mode-icon-text dropdown-item"
       title="{{ 'oro.frontend.shoppinglist.btn.rename.label'|trans }}"
       aria-label="{{ 'oro.frontend.shoppinglist.btn.rename.aria_label'|trans({'%name%': shoppingList.label}) }}"
       data-page-component-view="oroshoppinglist/js/app/views/shopping-list-rename-link-view"
       data-page-component-options="{{ {
           dialogUrl: path('oro_shopping_list_frontend_rename', {id : shoppingList.id}),
           dialogTitle: 'oro.frontend.shoppinglist.view.rename.label'|trans({'%label%': shoppingList.label}),
           shoppingListUpdateUrl: path('oro_api_frontend_patch_entity_data', {id: shoppingList.id, className: oro_class_name(shoppingList, true)})
       }|json_encode }}">
        {%- apply spaceless -%}
            <span class="icon fa-pencil" aria-hidden="true"></span>
            {{ 'oro.frontend.shoppinglist.btn.rename.label'|trans }}
        {%- endapply -%}
    </button>
{% endblock %}

{% block __customer_user_shopping_list_actions__shopping_list_duplicate_action_widget %}
    {% for button in buttons %}
        {% set options = oro_action_frontend_options(button) %}
        {% set buttonOptions = options.options %}
        <button class="action mode-icon-text dropdown-item"
           title="{{ 'oro.frontend.shoppinglist.btn.duplicate.label'|trans }}"
           aria-label="{{ 'oro.frontend.shoppinglist.btn.duplicate.aria_label'|trans({'%name%': shoppingList.label}) }}"
           data-page-component-view="oroshoppinglist/js/app/views/shopping-list-duplicate-link-view"
           data-page-component-options="{{ {
               dialogTitle: 'oro.frontend.shoppinglist.view.duplicate_confirmation.label'|trans,
               dialogContentText: 'oro.frontend.shoppinglist.messages.duplicate_confirmation'|trans,
               dialogOkText: 'oro.frontend.shoppinglist.btn.duplicate_ok.label'|trans,
               shoppingListDuplicateUrl: buttonOptions.url,
               executionData: buttonOptions.executionTokenData
           }|json_encode }}">
            {%- apply spaceless -%}
                <span class="icon fa-clone" aria-hidden="true"></span>
                {{ 'oro.frontend.shoppinglist.btn.duplicate.label'|trans }}
            {%- endapply -%}
        </button>
    {% endfor %}
{% endblock %}

{% block __customer_user_shopping_list_actions__shopping_list_delete_action_widget %}
    {% for button in buttons %}
        {% set options = oro_action_frontend_options(button) %}
        {% set buttonOptions = options.options %}
        <button class="action mode-icon-text dropdown-item"
           title="{{ 'oro.frontend.shoppinglist.btn.delete'|trans }}"
           aria-label="{{ 'oro.frontend.shoppinglist.btn.delete_aria_label'|trans({'%name%': shoppingList.label}) }}"
           data-page-component-view="oroshoppinglist/js/app/views/shopping-list-delete-link-view"
           data-page-component-options="{{ {
               dialogTitle: 'oro.frontend.shoppinglist.view.delete_confirmation.label'|trans,
               dialogContentText: 'oro.frontend.shoppinglist.messages.delete_confirmation'|trans,
               dialogOkText: 'oro.frontend.shoppinglist.btn.delete_ok.label'|trans,
               shoppingListDeleteUrl: buttonOptions.url,
               executionData: buttonOptions.executionTokenData
           }|json_encode }}">
            {%- apply spaceless -%}
                <span class="icon fa-trash" aria-hidden="true"></span>
                {{ 'oro.frontend.shoppinglist.btn.delete'|trans }}
            {%- endapply -%}
        </button>
    {% endfor %}
{% endblock %}

{% block __customer_user_shopping_list_actions__shopping_list_set_default_action_widget %}
    <button class="action mode-icon-text dropdown-item"
       title="{{ 'oro.frontend.shoppinglist.btn.set_default.label'|trans }}"
       aria-label="{{ 'oro.frontend.shoppinglist.btn.set_default.aria_label'|trans({'%name%': shoppingList.label}) }}"
       data-page-component-view="oroshoppinglist/js/app/views/shopping-list-set-default-link-view"
       data-page-component-options="{{ {
           dialogTitle: 'oro.frontend.shoppinglist.view.set_default_confirmation.label'|trans,
           dialogContentText: 'oro.frontend.shoppinglist.messages.set_default_confirmation'|trans,
           dialogOkText: 'oro.frontend.shoppinglist.btn.set_default_ok.label'|trans,
           successText: 'oro.frontend.shoppinglist.messages.set_default_success'|trans,
           shoppingListSetDefaultUrl: path('oro_api_set_shopping_list_current', {id : shoppingList.id})
       }|json_encode }}">
        {%- apply spaceless -%}
            <span class="icon fa-check" aria-hidden="true"></span>
            {{ 'oro.frontend.shoppinglist.btn.set_default.label'|trans }}
        {%- endapply -%}
    </button>
{% endblock %}
